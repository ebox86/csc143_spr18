package StanleysStorage;

import static org.junit.Assert.*;

import java.util.Calendar;
import java.util.Date;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import StanleysStorage.Unit.unitType;

public class UnitTest {

	public Date today = Calendar.getInstance().getTime();
    /**
     * Default constructor for test class UnitTest
     */
    public UnitTest() {
    }
    
    /**
     * Sets up the test fixture.
     *
     * Called before every test case method.
     */
    @Before
    public void setUp() {
    }

    /**
     * Tears down the test fixture.
     *
     * Called after every test case method.
     */
    @After
    public void tearDown() {
    }
    
    
    @Test
    public void testConstructorAndGets() {
    	Unit unit = new Unit(10, 12, 15, 10.0, unitType.STANDARD);
    	Unit unit2 = new Unit(10, 12, 15, 10.0, unitType.HUMIDITY);
    	Unit unit3 = new Unit(10, 12, 15, 10.0, unitType.TEMPERATURE);
    	assertEquals(12, unit.getHeight());
    	assertEquals(15, unit.getLength(), 0);
    	assertEquals(10, unit.getWidth(), 0);
    	assertEquals(10.0, unit.getStandardPrice(), 0.0);
    	assertEquals(unitType.STANDARD, unit.getUnitType());
    	assertEquals(unitType.HUMIDITY, unit2.getUnitType());
    	assertEquals(unitType.TEMPERATURE, unit3.getUnitType());
    }

    @Test
    public void testGettersAndSetters() {
    	Unit unit = new Unit(10, 12, 15, 10.0, unitType.STANDARD);
    	Customer cust = new Customer("Evan", "5555555555");
    	unit.rent(cust, today, 7.0);
    	assertEquals(7.0, unit.getPrice(), 0.0);
    	assertEquals(10.0, unit.getStandardPrice(), 0.0);
    	assertEquals(cust, unit.getCustomer());
    }
    
    @Test (expected = Exception.class)
    public void testRent() throws Exception {
    	Unit unit = new Unit(10, 12, 15, 10.0, unitType.STANDARD);
    	Customer cust = new Customer("Evan", "5555555555");
    	unit.rent(cust, today, 7.0);
    	Customer cust2 = new Customer("Bill", "5555555555");
    	unit.rent(cust2, today);
    }
}
