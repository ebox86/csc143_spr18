package StanleysStorage;

/**
 * Customer -- constructs a new Customer object for the Stanley Storage program
 * @author evankoh
 *
 */
public class Customer {

	private String name;
	private String phone;
	private double balance;
	
	public Customer(String name, String phone) {
		this.name = name;
		setPhone(phone);
	}
	
	public double getBalance(){
		return balance;
	}
	
	public String getName() {
		return name;
	}
	
	public String getPhone() {
		return phone;
	}
	
	public void setName(String name) {
		this.name = name;
	}
	
	public void setPhone(String phone) throws IllegalArgumentException {
		if(phone.matches("[0-9]{10}") && phone.length() <= 10) {
			this.phone = phone;
		} else {
			throw new IllegalArgumentException();
		}
		
	}
	
	public void charge(double amt) throws IllegalArgumentException {
		if(amt > 0.0) {
			this.balance += amt;
		} else {
			throw new IllegalArgumentException("Charge amount must be > $0.00");
		}
	}
	
	public void credit(double amt) {
		if(amt >= 0.0) {
			throw new IllegalArgumentException("Credit amount must be > $0.00");
		} else if (this.balance - amt < 0.0){
			this.balance = 0.0;
		} else {
			this.balance -= amt;
		}
	}
	
	public String toString() {
		return "Customer Name: " + this.name 
				+ "\nPhone Number: " + this.phone
				+ "\n#########################"
				+ "\nCurrent Balance: $" + this.balance;
	}
}
