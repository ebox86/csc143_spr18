package StanleysStorage;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;

public class Unit {

	private int width;
	private int height;
	private int length;
	private double standardPrice;
	private double price;
	private unitType unitType;
	private Customer customer;
	private Date rentalDate;
	DateFormat df = new SimpleDateFormat("MM/dd/yyyy");
	
	public Unit(int width, int height, int length, double standardPrice, unitType type) {
		this.width = width;
		this.height = height;
		this.length = length;
		this.standardPrice = standardPrice;
		this.unitType = type;
	}

	public enum unitType {
		STANDARD, HUMIDITY, TEMPERATURE
	}
	
	public unitType getUnitType(){
		return unitType;
	}
	
	public Customer getCustomer() {
		return customer;
	}
	
	public double getPrice() {
		return price;
	}
	
	public double getStandardPrice() {
		return standardPrice;
	}
	
	public int getWidth() {
		return width;
	}

	public int getHeight() {
		return height;
	}

	public int getLength() {
		return length;
	}
	
	public void rent(Customer cust, Date rentalDate, double price){
		this.customer = cust;
		this.rentalDate = rentalDate;
		this.price = price;
	}
	
	public boolean rent(Customer cust, Date rentalDate) throws Exception {
		if (this.customer == null) {
			this.customer = cust;
			this.rentalDate = rentalDate;
			return true;
		} else {
			throw new Exception("Unit already rented");
		}

	}
	
	public boolean releaseUnit() {
		if(this.customer != null) {
			this.customer = null;
			this.price = 0.0;
			this.rentalDate = null;
			return true;
		} else {
			return false;
		}
	}
	
	public String toString() {
		if(this.customer != null) {
			return "Unit Information:\n"
					+ "width: " + width + "' height: " + height + "' length: " + height + "'"
					+ "\nRental Date: " + df.format(this.rentalDate) 
					+ "\n" + this.customer.toString()
					+ "\nunit price: $" + price
					+ "\nunit type: " + unitType.toString();
		} else {
			return "Unit Information:\n"
					+ "width: " + width + " height: " + height + " length: " + height
					+ "\n--Unit Not Rented--"
					+ "\nunit standard price: $" + price
					+ "\nunit type: " + unitType.toString();
		}
	}
}
